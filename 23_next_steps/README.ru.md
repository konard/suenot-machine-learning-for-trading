# Глава 23 — Следующие шаги

В этой заключительной главе мы кратко обобщим ключевые инструменты, приложения и уроки, полученные на протяжении всей книги, чтобы не потерять общую картину после стольких деталей. Затем мы определим области, которые не были рассмотрены, но на которые стоит обратить внимание по мере того, как вы расширяете применение многочисленных техник машинного обучения, представленных в книге, и становитесь продуктивными в их ежедневном использовании.

В целом, в этой главе мы:
- Рассмотрим ключевые выводы и извлечённые уроки
- Укажем следующие шаги для развития техник, представленных в этой книге
- Предложим способы интеграции ML в ваш инвестиционный процесс

## Содержание

1. [Ключевые выводы и извлечённые уроки](#ключевые-выводы-и-извлечённые-уроки)
    * [Данные — самый важный ингредиент](#данные--самый-важный-ингредиент)
    * [Экспертиза в предметной области: отделяем сигнал от шума](#экспертиза-в-предметной-области-отделяем-сигнал-от-шума)
    * [ML — это набор инструментов для решения задач с данными](#ml--это-набор-инструментов-для-решения-задач-с-данными)
    * [Остерегайтесь переобучения на бэктестах](#остерегайтесь-переобучения-на-бэктестах)
    * [Как извлечь инсайты из моделей-«чёрных ящиков»](#как-извлечь-инсайты-из-моделей-чёрных-ящиков)
2. [Машинное обучение для трейдинга на практике](#машинное-обучение-для-трейдинга-на-практике)
    * [Технологии управления данными](#технологии-управления-данными)
    * [Инструменты машинного обучения](#инструменты-машинного-обучения)
    * [Онлайн-платформы для трейдинга](#онлайн-платформы-для-трейдинга)

## Ключевые выводы и извлечённые уроки

Важные инсайты, которые следует помнить при переходе к практике машинного обучения для трейдинга:
- Данные — самый важный ингредиент, требующий тщательного подбора источников и обработки
- Экспертиза в предметной области ключевая для реализации ценности, содержащейся в данных, и избежания некоторых ловушек использования ML
- ML предлагает инструменты, которые вы можете адаптировать и комбинировать для создания решений под ваш конкретный случай
- Выбор целей модели и диагностики производительности ключевой для продуктивных итераций к оптимальной системе
- Переобучение на бэктестах — огромная проблема, требующая значительного внимания
- Прозрачность моделей-«чёрных ящиков» может помочь укрепить уверенность и способствовать принятию ML скептиками

### Данные — самый важный ингредиент

Ключевой инсайт заключается в том, что передовые техники ML, такие как глубокие нейронные сети, успешны потому, что их предсказательная эффективность продолжает улучшаться с увеличением объёма данных. С другой стороны, сложность модели и данных должны соответствовать друг другу для балансировки компромисса смещения-дисперсии (bias-variance trade-off), что становится более сложным при высоком соотношении шума к сигналу в данных. Управление качеством данных и интеграция наборов данных — ключевые шаги в реализации потенциальной ценности.

### Экспертиза в предметной области: отделяем сигнал от шума

Мы подчеркнули, что информативные данные — необходимое условие для успешных приложений ML. Однако экспертиза в предметной области в равной степени необходима для определения стратегического направления, выбора релевантных данных, проектирования информативных признаков и создания надёжных моделей.

### ML — это набор инструментов для решения задач с данными

Машинное обучение предлагает алгоритмические решения и техники, которые могут применяться ко многим случаям использования. Части 2, 3 и 4 книги представили машинное обучение как разнообразный набор инструментов, который может добавить ценность на различных этапах стратегического процесса, включая:
- Генерацию идей и исследование альфа-факторов
- Агрегацию сигналов и оптимизацию портфеля
- Тестирование стратегий
- Исполнение сделок
- Оценку стратегий

### Остерегайтесь переобучения на бэктестах

Мы неоднократно рассматривали риски ложных открытий из-за переобучения на исторических данных на протяжении всей книги. Глава 5, посвящённая оценке стратегий, описывает основные драйверы и потенциальные решения. Низкое соотношение шума к сигналу и относительно небольшие наборы данных (по сравнению с данными веб-масштаба для изображений или текста) делают эту проблему особенно серьёзной в области трейдинга. Осведомлённость критически важна, поскольку лёгкость доступа к данным и инструментам для применения ML значительно увеличивает риски.

Простых ответов нет, потому что риски неизбежны. Однако мы представили методы корректировки метрик бэктеста для учёта повторных испытаний, такие как дефлированный коэффициент Шарпа (deflated Sharpe ratio). При работе над стратегией для реальной торговли поэтапная бумажная торговля и тщательно отслеживаемая производительность во время исполнения на рынке должны быть частью процесса внедрения.

### Как извлечь инсайты из моделей-«чёрных ящиков»

Глубокие нейронные сети и сложные ансамбли могут вызывать подозрение, когда они рассматриваются как непроницаемые модели-«чёрные ящики», особенно в свете рисков переобучения на бэктестах. Мы представили несколько методов для получения понимания того, как эти модели делают предсказания, в Главе 12 «Усиление вашей торговой стратегии».

В дополнение к традиционным мерам важности признаков, недавняя теоретико-игровая инновация SHapley Additive exPlanations (SHAP) является значительным шагом к пониманию механики сложных моделей. Значения SHAP позволяют точно атрибутировать признаки и их значения к предсказаниям, так что становится легче проверить логику модели в свете конкретных теорий о поведении рынка для данной инвестиционной цели. Помимо обоснования, точные оценки важности признаков и атрибуция предсказаний позволяют получить более глубокое понимание драйверов интересующего инвестиционного результата.

## Машинное обучение для трейдинга на практике

По мере того как вы приступаете к интеграции многочисленных инструментов и техник в ваш инвестиционный и торговый процесс, есть множество направлений, на которых вы можете сосредоточить свои усилия. Если ваша цель — принимать лучшие решения, вам следует выбирать проекты, которые реалистичны, но амбициозны, учитывая ваш текущий набор навыков. Это поможет вам выработать эффективный рабочий процесс, подкреплённый продуктивными инструментами, и получить практический опыт.

### Технологии управления данными

Центральная роль данных в процессе ML4T требует знакомства с рядом технологий для хранения, преобразования и анализа данных в масштабе, включая использование облачных сервисов, таких как Amazon Web Services, Microsoft Azure и Google Cloud.

### Инструменты машинного обучения

Мы рассмотрели множество библиотек экосистемы Python в этой книге. Python эволюционировал и стал языком выбора для науки о данных и машинного обучения. Набор библиотек с открытым исходным кодом продолжает как диверсифицироваться, так и развиваться, и они построены на надёжном ядре библиотек научных вычислений NumPy и SciPy.

Есть несколько провайдеров, которые стремятся облегчить рабочий процесс машинного обучения:
- H2O.ai предлагает платформу H2O, которая интегрирует облачные вычисления с автоматизацией машинного обучения. Она позволяет пользователям подгонять тысячи потенциальных моделей к их данным для изучения паттернов в данных. Имеет интерфейсы на Python, а также R и Java.
- Datarobot стремится автоматизировать процесс разработки моделей, предоставляя платформу для быстрого создания и развёртывания предсказательных моделей в облаке или локально.
- Dataiku — это коллаборативная платформа науки о данных, разработанная для помощи аналитикам и инженерам в исследовании, прототипировании, создании и доставке их собственных продуктов данных.

Также есть несколько инициатив с открытым исходным кодом, возглавляемых компаниями, которые расширяют экосистему Python:
- Количественный хедж-фонд [Two Sigma](https://www.twosigma.com/) вносит инструменты количественного анализа в среду Jupyter Notebook в рамках проекта [BeakerX](https://github.com/twosigma/beakerx).
- Bloomberg интегрировал Jupyter Notebook в свой терминал для облегчения интерактивного анализа своих финансовых данных.

### Онлайн-платформы для трейдинга

Основные варианты для разработки торговых стратегий с использованием машинного обучения — это онлайн-платформы, которые часто ищут и выделяют капитал успешным торговым стратегиям.

Популярные решения включают:
- [Quantopian](https://www.quantopian.com/),
- [Quantconnect](https://www.quantconnect.com/), и
- [QuantRocket](https://www.quantrocket.com/).

Кроме того, [Interactive Brokers](https://www.interactivebrokers.com/en/home.php) предлагает [Python API](https://www.interactivebrokers.com/en/index.php?f=44094), который вы можете использовать для разработки собственного торгового решения.

[Alpaca](https://alpaca.markets/algotrading) предлагает бескомиссионное исполнение алгоритмических торговых стратегий. Несколько библиотек обеспечивают интеграцию:
- [pipeline-live](https://github.com/alpacahq/pipeline-live): расширение Zipline Pipeline для реальной торговли
- [pylivetrader](https://github.com/alpacahq/pylivetrader): простой Python-фреймворк для реальной торговли с интерфейсом zipline

[Backtrader](https://www.backtrader.com/) предназначен как для бэктестинга, так и для торговли с интеграцией нескольких брокеров.

---

## Криптовалютный трейдинг с Bybit

В дополнение к традиционным платформам, криптовалютные биржи предлагают отличные возможности для применения машинного обучения в трейдинге. [Bybit](https://www.bybit.com/) — одна из ведущих криптовалютных бирж, предоставляющая:

- **REST API** для получения рыночных данных и управления ордерами
- **WebSocket API** для получения данных в реальном времени
- **Тестовую сеть (Testnet)** для безопасной разработки и тестирования стратегий

### Примеры на Rust

В директории `rust_examples/` вы найдёте модульные примеры работы с биржей Bybit на языке Rust:

- `bybit_client` — клиент для работы с Bybit API
- `market_data` — модуль для получения и обработки рыночных данных
- `strategies` — примеры торговых стратегий
- `indicators` — технические индикаторы
- `backtesting` — фреймворк для бэктестинга

См. [README для Rust-примеров](rust_examples/README.md) для подробной документации.
